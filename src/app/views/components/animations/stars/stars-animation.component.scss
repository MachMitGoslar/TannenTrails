.star-explosion {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1000;
}

.explosion-star {
  position: absolute;
  color: rgba(255, 215, 0, 0.3);
  filter: drop-shadow(0 0 8px rgba(255, 215, 0, 0.8));
  font-size: 1.5rem;
  animation: starExplosionJS 2.5s ease-out forwards;
  z-index: 1000;
  pointer-events: none;
  top: 40%;
  left: 50%;
  transform: translate(-50%, -50%);
  opacity: 0;
}

// Star Explosion Keyframes (JavaScript calculated positions)
@keyframes starExplosionJS {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0) rotate(0deg);
  }
  
  20% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.2) rotate(90deg);
  }
  
  25% {
    opacity: 1;
    transform: translate(
      calc(-50% + var(--final-x) * 0.3), 
      calc(-50% + var(--final-y) * 0.3)
    ) scale(1) rotate(180deg);
  }
  
  50% {
    opacity: 0.8;
    transform: translate(
      calc(-50% + var(--final-x) * 0.7), 
      calc(-50% + var(--final-y) * 0.7)
    ) scale(0.8) rotate(270deg);
  }
  
  100% {
    opacity: 0;
    transform: translate(
      calc(-50% + var(--final-x)), 
      calc(-50% + var(--final-y))
    ) scale(0.3) rotate(var(--rotation));
  }
}

// Alternative star explosion for better browser support
@keyframes starExplosionFallback {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0);
  }
  
  20% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1.2);
  }
  
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.3);
  }
}

// Enhanced star effects
.explosion-star {
  &:nth-child(1) { animation-delay: 0s; }
  &:nth-child(2) { animation-delay: 0.1s; }
  &:nth-child(3) { animation-delay: 0.2s; }
  &:nth-child(4) { animation-delay: 0.05s; }
  &:nth-child(5) { animation-delay: 0.15s; }
  &:nth-child(6) { animation-delay: 0.25s; }
  &:nth-child(7) { animation-delay: 0.03s; }
  &:nth-child(8) { animation-delay: 0.13s; }
  &:nth-child(9) { animation-delay: 0.23s; }
  &:nth-child(10) { animation-delay: 0.08s; }
  &:nth-child(11) { animation-delay: 0.18s; }
  &:nth-child(12) { animation-delay: 0.28s; }
}

// Success celebration container
  .star-explosion {
    &::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100px;
      height: 100px;
      background: radial-gradient(circle, rgba(255, 215, 0, 0.3) 0%, transparent 70%);
      transform: translate(-50%, -50%);
      border-radius: 50%;
      animation: successGlow 2s ease-out;
      z-index: -1;
    }
  }


@keyframes successGlow {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0);
  }
  
  50% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(2);
  }
  
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(4);
  }
}
